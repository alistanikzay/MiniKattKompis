<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>‚ûï L√§gg till katt - KattKompis</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background: linear-gradient(135deg, #ffe6e6, #fff3e6); margin:0; padding:0; color:#333; }
        header { text-align:center; padding:25px; background:#ff6f61; color:white; box-shadow:0 4px 8px rgba(0,0,0,0.15); position:sticky; top:0; z-index:1000; }
        header h1 { margin:0; font-size:2rem; }
        nav { display:flex; justify-content:center; gap:15px; padding:12px; background:white; position:sticky; top:70px; z-index:999; border-bottom:1px solid #eee; }
        nav a { text-decoration:none; color:#ff6f61; font-weight:700; padding:10px 18px; border-radius:10px; transition:all 0.3s ease; display:flex; align-items:center; gap:6px; }
        nav a:hover { background-color:#ff6f61; color:white; transform:translateY(-2px); }
        .form-container { max-width:500px; margin:40px auto; padding:30px; background:white; border-radius:18px; box-shadow:0 6px 16px rgba(0,0,0,0.15); animation:fadeIn 0.6s ease; }
        @keyframes fadeIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
        .form-container h2 { text-align:center; margin-bottom:25px; color:#ff6f61; }
        .form-group { margin-bottom:20px; }
        .form-group label { display:block; font-weight:700; margin-bottom:6px; }
        .form-group input { width:100%; padding:12px; border-radius:10px; border:1px solid #ccc; font-size:1rem; transition:border-color 0.3s, box-shadow 0.3s; }
        .form-group input:focus { border-color:#ff6f61; box-shadow:0 0 6px rgba(255,111,97,0.4); outline:none; }
        .image-preview { text-align:center; margin-top:15px; }
        .image-preview img { max-width:100%; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.2); display:none; }
        #successMsg { text-align:center; margin-top:15px; color:green; font-weight:700; }
        button[type="submit"] { width:100%; padding:14px; background:#ff6f61; color:white; border:none; border-radius:12px; font-size:1.1rem; font-weight:700; cursor:pointer; transition: transform 0.2s, background 0.3s; }
        button[type="submit"]:hover { background:#ff5040; transform:scale(1.03); }
        .back-link { display:block; text-align:center; margin-top:18px; color:#ff6f61; font-weight:700; text-decoration:none; }
        .back-link:hover { text-decoration:underline; }
        @media (max-width:600px) { nav { flex-wrap:wrap; } header h1 { font-size:1.6rem; } .form-container { padding:20px; margin:30px 15px; } }
    </style>
</head>
<body>
<header>
    <h1>‚ûï L√§gg till ny katt üò∫</h1>
</header>

<nav>
    <a href="index.html">üè† Hem</a>
    <a href="cats.html">üò∏ Alla katter</a>
    <a href="weather.html">‚òÄÔ∏è V√§der</a>
</nav>

<div class="form-container">
    <h2>Fyll i kattens information</h2>
    <form id="catForm">
        <div class="form-group">
            <label for="name">Namn:</label>
            <input type="text" id="name" name="name" placeholder="Ex. Whiskers" required>
        </div>
        <div class="form-group">
            <label for="age">√Ölder:</label>
            <input type="text" id="age" name="age" placeholder="Ex. 3 √•r" required>
        </div>
        <div class="form-group">
            <label for="personality">Personlighet:</label>
            <input type="text" id="personality" name="personality" placeholder="Ex. Lekfull, busig" required>
        </div>
        <div class="form-group">
            <label for="favoriteToy">Favoritleksak:</label>
            <input type="text" id="favoriteToy" name="favoriteToy" placeholder="Ex. Boll" required>
        </div>
        <div class="form-group">
            <label for="imageUrl">Bild-URL:</label>
            <input type="url" id="imageUrl" name="imageUrl" placeholder="https://example.com/cat.jpg" required>
        </div>
        <div class="image-preview">
            <img id="previewImg" alt="F√∂rhandsvisning av katt" onerror="this.style.display='none'">
        </div>
        <button type="submit">L√§gg till katt üêæ</button>
    </form>
    <div id="successMsg"></div>
    <a href="cats.html" class="back-link">‚Üê Tillbaka till kattlistan</a>
</div>

<script>
    const form = document.getElementById("catForm");
    const imageUrlInput = document.getElementById("imageUrl");
    const previewImg = document.getElementById("previewImg");
    const successMsg = document.getElementById("successMsg");

    // F√∂rhandsvisning av bild
    imageUrlInput.addEventListener("input", () => {
        const url = imageUrlInput.value;
        previewImg.src = url;
        previewImg.style.display = url ? "block" : "none";
    });

    form.addEventListener("submit", function(event) {
        event.preventDefault();

        const name = document.getElementById("name").value.trim();
        const age = document.getElementById("age").value.trim();
        const personality = document.getElementById("personality").value.trim();
        const favoriteToy = document.getElementById("favoriteToy").value.trim();
        const imageUrl = imageUrlInput.value.trim();

        if (!name || !age || !personality || !favoriteToy || !imageUrl) return;

        const savedCats = JSON.parse(localStorage.getItem("cats")) || [];
        savedCats.push({ name, age, personality, favoriteToy, imageUrl });
        localStorage.setItem("cats", JSON.stringify(savedCats));

        successMsg.textContent = "Katt tillagd! üêæ";
        setTimeout(() => { successMsg.textContent = ""; }, 4000);

        form.reset();
        previewImg.style.display = "none";
    });
</script>
</body>
</html>
